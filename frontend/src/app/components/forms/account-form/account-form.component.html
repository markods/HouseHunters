<form id='form' class="px-3 py-1">
  <div class="form-group d-flex align-items-stretch">
    <img id="usr_photo" class="rounded shadow-sm mb-0 mr-4" style="width: 100px; height: 100px;" src="/assets/images/account.png">

    <div class="d-flex flex-column-reverse">
      <div class="btn-group">

        <label class="btn btn-outline-dark mb-0">
          <i class="bi bi-pen"></i>
          <input #usr_photo_input id="usr_photo" type="file" accept=".jpg,.jpeg,.png" hidden (change)="saveImage( usr_photo_input )">
        </label>

        <button class="btn btn-outline-dark" (click)="resetImage()"><i class="bi bi-x-lg"></i></button>

      </div>
      <label for="usr_photo">Slika</label><br>
    </div>
  </div>



  <div class="form-group">
    <label for="firstname">Ime</label>
    <input id ="firstname" type="text" class="form-control" placeholder="ime" name="firstname" [(ngModel)]="acc.firstname" [class.is-invalid]="status.getKey('firstname.err')">
    <small class='text-danger'>{{ status.getKey('firstname.err') }}&nbsp;</small>
  </div>

  <div class="form-group">
    <label for="lastname">Prezime</label>
    <input id ="lastname" type="text" class="form-control" placeholder="prezime" name="lastname" [(ngModel)]="acc.lastname" [class.is-invalid]="status.getKey('lastname.err')">
    <small class='text-danger'>{{ status.getKey('lastname.err') }}&nbsp;</small>
  </div>

  <div class="form-group">
    <label for="email">Email</label>
    <input id ="email" type="email" class="form-control" placeholder="email" name="email" [(ngModel)]="acc.email" [class.is-invalid]="status.getKey('email.err')">
    <small class='text-danger'>{{ status.getKey('email.err') }}&nbsp;</small>
  </div>
  
  <div class="form-group">
    <label for="usr_addr_country">Dr탑ava</label>
    <input id ="usr_addr_country" type="text" class="form-control" placeholder="dr탑ava" name="usr_addr_country" [(ngModel)]="acc.usr_addr_country" [class.is-invalid]="status.getKey('usr_addr_country.err')">
    <small class='text-danger'>{{ status.getKey('usr_addr_country.err') }}&nbsp;</small>
  </div>

  <div class="form-group">
    <label for="usr_addr_city">Grad</label>
    <input id ="usr_addr_city" type="text" class="form-control" placeholder="grad" name="usr_addr_city" [(ngModel)]="acc.usr_addr_city" [class.is-invalid]="status.getKey('usr_addr_city.err')">
    <small class='text-danger'>{{ status.getKey('usr_addr_city.err') }}&nbsp;</small>
  </div>

  <div class="mb-4"></div>
  
  
  <div *ngIf="form_type == 'update'" class="form-group">
    <label for="acc_type">Tip korisnika</label>
    <select id="acc_type" type="text" class="form-control" name="acc_type" [(ngModel)]="acc.acc_type" [class.is-invalid]="status.getKey('acc_type.err')" [disabled]="sesh_acc_type != 'adm' || sesh_acc_id == acc._id">
      <option value="usr" selected>korisnik</option>
      <option value="agn">agent</option>
    </select>
    <small class='text-danger'>{{ status.getKey('acc_type.err') }}&nbsp;</small>
  </div>

  <div class="form-group">
    <label for="username">Korisni훾ko ime</label>
    <input id ="username" type="text" class="form-control" placeholder="korisni훾ko ime" name="username" [(ngModel)]="acc.username" [class.is-invalid]="status.getKey('username.err')">
    <small class='text-danger'>{{ status.getKey('username.err') }}&nbsp;</small>
  </div>

  <div *ngIf="form_type == 'update'" class="form-group">
    <label for="password_old">Prethodna lozinka</label>
    <input id ="password_old" type="password" class="form-control" placeholder="lozinka" name="password_old" [(ngModel)]="password_old" [class.is-invalid]="status.getKey('password_old.err')">
    <small class='text-danger'>{{ status.getKey('password_old.err') }}&nbsp;</small>
  </div>

  <div class="form-group">
    <label for="password">Lozinka</label>
    <div class='input-group'>
      <input id ="password"     type="password" class="form-control" placeholder="lozinka"          name="password"     [(ngModel)]="acc.password"  [class.is-invalid]="status.getKey('password.err')">
      <input id ="password_new" type="password" class="form-control" placeholder="ponovite lozinku" name="password_new" [(ngModel)]="password_new"  [class.is-invalid]="status.getKey('password_new.err')">
    </div>
    <small class='text-danger'>{{ status.getKey('password.err') }}&nbsp;</small>
  </div>

  <small class='text-danger'>{{ status.getKey('message') }}</small>
</form>
